(function(){const b=document.getElementById('logoutBtn');if(b){b.addEventListener('click',()=>{localStorage.removeItem('auth_token');localStorage.removeItem('tt_root_token');localStorage.removeItem('tt_admin_token');location.href='/public/auth/role-select.html'})}window.protect=function(_role){const has=localStorage.getItem('tt_admin_token')||localStorage.getItem('tt_root_token')||localStorage.getItem('auth_token');if(!has)location.href='/public/auth/login.html?next='+encodeURIComponent(location.pathname+location.search)}})();
