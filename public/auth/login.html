<!doctype html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Login â€” TekeTeke</title><script src="/public/js/app-config.js"></script><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><input id=email placeholder="you@example.com"><button id=magic>Send magic link</button><script>const sb=window.supabase.createClient(window.SUPABASE_URL||'',window.SUPABASE_ANON_KEY||'');magic.onclick=async()=>{if(!email.value.trim())return alert('Enter email');const {error}=await sb.auth.signInWithOtp({email:email.value.trim(),options:{emailRedirectTo:location.origin+'/public/auth/login.html'}});if(error)alert(error.message);else alert('Check your email')};sb.auth.onAuthStateChange((_e,s)=>{if(s?.access_token){localStorage.setItem('auth_token',s.access_token);location.href='/public/auth/role-select.html';}});</script>
